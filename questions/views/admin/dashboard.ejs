<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Dashboard</title>
</head>
<body>

    <a href="/admin/padrao">Cadastrar Padrão</a>
    <br>
    <a href="/admin/logout">Sair</a>

    <br>

    <h1>Dashboard</h1>

    <h2>Respostas</h2>

    <form name="buscar" method="post" action="/admin/dashboard/buscar"> 
        <label for="padrao">Padrão de projeto:</label> 
        <select name="padrao">
            <option value="none">-</option>
            <optgroup label="Criacional">
                <option value="builder">Builder</option>
                <option value="factory method">Factory Method</option>
                <option value="prototype">Prototype</option>
                <option value="singleton">Singleton</option>            
            </optgroup>
                    
            <optgroup label="Estrutural">
                <option value="adapter">Adapter</option>
                <option value="bridge">Bridge</option>
                <option value="composite">Composite</option>
                <option value="decorator">Decorator</option>
                <option value="proxy">Proxy</option> 
            </optgroup>

            <optgroup label="Comportamental">
                <option value="command">Command</option>
                <option value="observer">Observer</option>
                <option value="state">State</option>
                <option value="strategy">Strategy</option>
                <option value="template method">Template Method</option>
                <option value="visitor">Visitor</option>
            </optgroup>
        </select>

        <label for="experiencia">Experiência do Dev:</label>
        <select name="experiencia">
            <option value="none">-</option>
            <option value="0-1">Menos de 1 ano</option>
            <option value="1-3">1 a 3 anos</option>
            <option value="3-5">3 a 5 anos</option>
            <option value="5-#">Mais de 5 anos</option>
        </select>
        <button type="submit">Buscar</button>
    </form>
    <br>
    
    <% if(respostas.length > 0) { %>
        <% for(var i = 0; i < respostas.length; i++) { %>
            <b>Id: </b><%= respostas[i]._id %><br>
            <b>Experiência: </b><%= respostas[i].experiencia %>
            
            <br>
            <br>
            <b>-Respostas das questões: </b>
            <br>
            <% for(var j = 0; j < respostas[i].resposta.length; j++) { %>
                <b>Padrão: </b><%= respostas[i].resposta[j].padrao %>
                <br>
                <% for(var z = 0; z < respostas[i].resposta[j].termos.length; z++) { %>
                    <%= respostas[i].resposta[j].termos[z] %>
                <% } %>
                <br>
            <% } %>

            <br>
            <b>-Suguestões: </b>
            <br>
            <% for(var y = 0; y < respostas[i].suguestao.length; y++) { %>
                <b>padrão: </b><%= respostas[i].suguestao[y].padrao %> <br>  
                <b>tipo: </b><%= respostas[i].suguestao[y].tipo %> <br> 
                <b>nome: </b><%= respostas[i].suguestao[y].nome %>
                <br><br>
            <% } %>
            <br>
            <hr>
            <br>
        <% } %>
    <% } %>

</body>

</html>